# åŸºäºç‰©ç†å…ˆéªŒä¸æ·±åº¦å­¦ä¹ è‡ªé€‚åº”èåˆçš„GPRç›®æ ‡åˆ†ç±»æ–¹æ³•

## ğŸ¯ é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æå‡ºäº†ä¸€ç§åˆ›æ–°çš„åœ°è´¨é›·è¾¾ï¼ˆGround Penetrating Radar, GPRï¼‰ç›®æ ‡åˆ†ç±»æ–¹æ³•ï¼Œæ ¸å¿ƒåˆ›æ–°ç‚¹æ˜¯**è‡ªé€‚åº”é—¨æ§æœºåˆ¶**ï¼Œèƒ½å¤Ÿæ ¹æ®ä¸åŒç›®æ ‡ç±»å‹åŠ¨æ€è°ƒèŠ‚ç‰©ç†å…ˆéªŒå’Œæ·±åº¦å­¦ä¹ ç‰¹å¾çš„èåˆæ¯”ä¾‹ã€‚

### æ ¸å¿ƒåˆ›æ–°ç‚¹

1. **ç‰©ç†å…ˆéªŒä¸æ·±åº¦å­¦ä¹ çš„è‡ªé€‚åº”èåˆ**
   - åˆ©ç”¨åŒæåŒ– GPRï¼ˆVV/VHï¼‰çš„æåŒ–ç›¸å¹²çŸ©é˜µä½œä¸ºç‰©ç†å…ˆéªŒ
   - é€šè¿‡å¯å­¦ä¹ çš„é—¨æ§ç³»æ•°åŠ¨æ€è°ƒèŠ‚ç‰©ç†å…ˆéªŒå’Œæ·±åº¦å­¦ä¹ ç‰¹å¾çš„æƒé‡
   - ä¸åŒæ ·æœ¬ã€ä¸åŒç±»åˆ«ä½¿ç”¨ä¸åŒçš„èåˆç­–ç•¥

2. **ç±»åˆ«æ„ŸçŸ¥çš„è‡ªé€‚åº”é—¨æ§ï¼ˆClass-aware Gatingï¼‰**
   - PVCã€å¤šåˆ†æ”¯ã€é‡‘å±ç­‰ç›®æ ‡ï¼šgate â‰ˆ 0.85-0.90ï¼ˆæ›´ä¾èµ–æ·±åº¦å­¦ä¹ ï¼‰
   - å«æ°´ã€ç”µç¼†ã€ç©ºæ´ç­‰ç›®æ ‡ï¼šgate â‰ˆ 0.14-0.18ï¼ˆæ›´ä¾èµ–ç‰©ç†å…ˆéªŒï¼‰
   - é—¨æ§åˆ†å¸ƒä¸ç‰©ç†æ•£å°„æœºç†é«˜åº¦ä¸€è‡´ï¼Œå…·æœ‰è‰¯å¥½çš„å¯è§£é‡Šæ€§

3. **è½»é‡çº§ CCGA ç½‘ç»œè®¾è®¡**
   - å‚æ•°é‡çº¦ 1.6Mï¼ˆ6.24 MBï¼‰
   - åœ¨ `tongyi_weidu_10x_v2` æ•°æ®é›†ä¸Šè¾¾åˆ° 100% æµ‹è¯•å‡†ç¡®ç‡
   - é€‚åˆå·¥ç¨‹éƒ¨ç½²å’Œè¾¹ç¼˜ç«¯åº”ç”¨

## ğŸ“Š å®éªŒç»“æœ

### åˆ†ç±»æ€§èƒ½
- **æµ‹è¯•å‡†ç¡®ç‡**: 100%
- **æ•°æ®é›†**: 7 ç±» GPR ç›®æ ‡ï¼ˆPVCã€äºŒé¢è§’ã€å«æ°´ã€å¤šåˆ†æ”¯ã€ç”µç¼†ã€ç©ºæ´ã€é‡‘å±ï¼‰
- **æ ·æœ¬æ•°**: è®­ç»ƒé›† 10x å¢å¼º

### é—¨æ§ç³»æ•°åˆ†å¸ƒï¼ˆv5 æœ€ç»ˆç‰ˆæœ¬ï¼‰

| ç±»åˆ« | Gateå‡å€¼ | Gateæ ‡å‡†å·® | æ·±åº¦å­¦ä¹ % | ç‰©ç†å…ˆéªŒ% |
|------|----------|------------|-----------|-----------|
| PVC | 0.905 | 0.014 | 90.5% | 9.5% |
| å¤šåˆ†æ”¯ | 0.891 | 0.021 | 89.1% | 10.9% |
| é‡‘å± | 0.854 | 0.057 | 85.4% | 14.6% |
| äºŒé¢è§’ | 0.850 | 0.043 | 85.0% | 15.0% |
| å«æ°´ | 0.182 | 0.028 | 18.2% | 81.8% |
| ç”µç¼† | 0.143 | 0.019 | 14.3% | 85.7% |
| ç©ºæ´ | 0.077 | 0.015 | 7.7% | 92.3% |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
```bash
Python >= 3.8
PyTorch >= 1.13
torchvision
numpy
matplotlib
scipy
```

### å®‰è£…ä¾èµ–
```bash
pip install torch torchvision numpy matplotlib scipy
```

### è®­ç»ƒæ¨¡å‹
```bash
# ä½¿ç”¨ v5 å¹³è¡¡é—¨æ§é…ç½®è®­ç»ƒ
python train_lightweight_ccga.py \
    --dataset_path tongyi_weidu_10x_v2 \
    --batch_size 16 \
    --epochs 50 \
    --lr 0.0001 \
    --output_dir experiments/lightweight_ccga_v5_balanced_gate
```

### æµ‹è¯•æ¨¡å‹
```bash
python test_lightweight_ccga.py \
    --dataset_path tongyi_weidu_10x_v2 \
    --checkpoint experiments/lightweight_ccga_v5_balanced_gate/best_model.pth \
    --output_dir experiments/lightweight_ccga_v5_balanced_gate
```

### å¯è§†åŒ–é—¨æ§åˆ†å¸ƒ
```bash
python visualize_gate_ratio.py \
    --experiment_dir experiments/lightweight_ccga_v5_balanced_gate
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ network_code/              # ç½‘ç»œæ¨¡å‹ä»£ç 
â”‚   â”œâ”€â”€ modules/
â”‚   â”‚   â””â”€â”€ ccga.py           # CCGA æ¨¡å—ï¼ˆæ ¸å¿ƒåˆ›æ–°ï¼‰
â”‚   â””â”€â”€ models/
â”‚       â””â”€â”€ lightweight_ccga_net.py  # è½»é‡çº§ CCGA ç½‘ç»œ
â”œâ”€â”€ train_lightweight_ccga.py  # è®­ç»ƒè„šæœ¬
â”œâ”€â”€ test_lightweight_ccga.py   # æµ‹è¯•è„šæœ¬
â”œâ”€â”€ visualize_gate_ratio.py    # é—¨æ§å¯è§†åŒ–è„šæœ¬
â”œâ”€â”€ dataset_loader.py          # æ•°æ®åŠ è½½å™¨
â”œâ”€â”€ augment_tongyi_weidu.py    # æ•°æ®å¢å¼ºå·¥å…·
â”œâ”€â”€ experiments/               # å®éªŒç»“æœ
â”‚   â””â”€â”€ lightweight_ccga_v5_balanced_gate/  # v5 æœ€ç»ˆç‰ˆæœ¬
â”‚       â”œâ”€â”€ best_model.pth
â”‚       â”œâ”€â”€ gate_analysis.png
â”‚       â”œâ”€â”€ confusion_matrix.png
â”‚       â””â”€â”€ gate_evolution.png
â””â”€â”€ docs/                      # æ–‡æ¡£
    â”œâ”€â”€ å¿«é€Ÿä½¿ç”¨æŒ‡å—.md
    â”œâ”€â”€ è‡ªé€‚åº”é—¨æ§æœ€ç»ˆç‰ˆæœ¬æ€»ç»“.md
    â””â”€â”€ CCGAæ¨¡å—æ ¸å¿ƒåŠŸèƒ½è¯¦è§£.md
```

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- [å¿«é€Ÿä½¿ç”¨æŒ‡å—](å¿«é€Ÿä½¿ç”¨æŒ‡å—.md) - å¿«é€Ÿä¸Šæ‰‹è®­ç»ƒå’Œæµ‹è¯•
- [è‡ªé€‚åº”é—¨æ§æœ€ç»ˆç‰ˆæœ¬æ€»ç»“](è‡ªé€‚åº”é—¨æ§æœ€ç»ˆç‰ˆæœ¬æ€»ç»“.md) - v2-v5 ç‰ˆæœ¬æ¼”è¿›è¯¦è§£
- [CCGAæ¨¡å—æ ¸å¿ƒåŠŸèƒ½è¯¦è§£](CCGAæ¨¡å—æ ¸å¿ƒåŠŸèƒ½è¯¦è§£.md) - CCGA æ¨¡å—æŠ€æœ¯ç»†èŠ‚
- [é—¨æ§å€¼å¯è§†åŒ–è¯´æ˜](é—¨æ§å€¼å¯è§†åŒ–è¯´æ˜.md) - é—¨æ§å¯è§†åŒ–å·¥å…·ä½¿ç”¨

## ğŸ”¬ æ–¹æ³•æ¦‚è¿°

### ç½‘ç»œæ¶æ„

1. **åŒåˆ†æ”¯ç‰¹å¾æå–**
   - VV åˆ†æ”¯ï¼šSimpleCNN æå– VV å›¾åƒç‰¹å¾
   - VH åˆ†æ”¯ï¼šSimpleCNN æå– VH å›¾åƒç‰¹å¾

2. **ç‰©ç†å…ˆéªŒæ„å»º**
   - ä» VV/VH å¤æ•°çŸ©é˜µè®¡ç®—æåŒ–ç›¸å¹²ç³»æ•°
   - å½’ä¸€åŒ–ä¸º [0,1] åŒºé—´ä½œä¸ºç‰©ç†å¯é åº¦

3. **CCGA æ¨¡å—ï¼ˆæ ¸å¿ƒï¼‰**
   - æ•°æ®é©±åŠ¨æ³¨æ„åŠ›ï¼šQÂ·Káµ€ è®¡ç®—å­¦ä¹ æ³¨æ„åŠ›åˆ†æ•°
   - ç‰©ç†å…ˆéªŒæ³¨æ„åŠ›ï¼šåŸºäºç›¸å¹²æƒé‡æ„é€ ç‰©ç†åˆ†æ•°
   - è‡ªé€‚åº”é—¨æ§ï¼šæ ¹æ® VV/VH ç‰¹å¾ + ç›¸å¹²ç»Ÿè®¡é¢„æµ‹ gate
   - èåˆï¼šscore = gate Ã— score_DL + (1-gate) Ã— score_phys

4. **æŸå¤±å‡½æ•°**
   - åˆ†ç±»æŸå¤±ï¼šäº¤å‰ç†µ
   - é—¨æ§å¤šæ ·æ€§æŸå¤±ï¼šé¼“åŠ±ä¸åŒç±»åˆ«ä½¿ç”¨ä¸åŒ gate
   - é—¨æ§é¥±å’Œæƒ©ç½šï¼šé˜²æ­¢ gate è¿‡åº¦é¥±å’Œåˆ° 0 æˆ– 1

## ğŸ“ å¼•ç”¨

å¦‚æœæœ¬é¡¹ç›®å¯¹æ‚¨çš„ç ”ç©¶æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘å¼•ç”¨ï¼š

```bibtex
@article{your_paper_2025,
  title={åŸºäºç‰©ç†å…ˆéªŒä¸æ·±åº¦å­¦ä¹ è‡ªé€‚åº”èåˆçš„GPRç›®æ ‡åˆ†ç±»æ–¹æ³•},
  author={Your Name},
  journal={Journal Name},
  year={2025}
}
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®æä¾›å¸®åŠ©å’Œå»ºè®®çš„äººå‘˜ã€‚

---

**æœ€åæ›´æ–°**: 2025-11-25

